(this.webpackJsonpmocs=this.webpackJsonpmocs||[]).push([[7],{107:function(e,t,n){},112:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(38),o=n.n(r),i=(n(112),n(26)),s=n(67),u=n(82),l=n(49),d=n(16),f=n.n(d),b=n(5),p=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:t})};p.propTypes={children:f.a.element.isRequired};var m,j=p,O=n(6),h=n(96),g=n.n(h),x=n(15),v=n(68),y=function(e){var t=e.layout,n=e.component,c=(e.path,e.isHeader),r=e.name,o=Object(v.a)(e,["layout","component","path","isHeader","name"]),s=Object(O.f)(),u=Object(i.c)((function(e){return e.user.profile}));return Object(a.useEffect)((function(){0===Object.keys(u).length&&s.push("/login")}),[u]),Object(b.jsx)(O.a,Object(x.a)(Object(x.a)({},o),{},{render:function(e){return Object(b.jsx)(t,Object(x.a)(Object(x.a)({isHeader:c,titleHeader:r},e),{},{children:Object(b.jsx)(n,Object(x.a)({},e))}))}}))},w=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(17),n.e(21)]).then(n.bind(null,742))})),P=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(6),n.e(15),n.e(26)]).then(n.bind(null,743))})),k=Object(a.lazy)((function(){return n.e(23).then(n.bind(null,725))})),S=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(18)]).then(n.bind(null,726))})),T=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,734))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,733))})),H=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,738))})),z=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(16),n.e(19)]).then(n.bind(null,727))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(5),n.e(20)]).then(n.bind(null,736))})),F=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(5),n.e(6),n.e(22)]).then(n.bind(null,737))})),I=function(){var e=Object(O.g)(),t=Object(l.css)(m||(m=Object(u.a)(["\n        border-color: #001529;\n    "]))),n=[{path:"/mocs-client",component:T,layout:w,exact:!0,name:"Home Page"},{path:"/login",component:S,layout:k,exact:!0,name:"Login Page"},{path:"/admin/management-business",component:L,layout:w,exact:!0,name:"Admin Page"},{path:"/admin/management-staff",component:H,layout:w,exact:!0,name:"Management Staff Page"},{path:"/profile/:id",component:z,layout:w,exact:!0,name:"Profile Page"},{path:"/users/:id",component:E,layout:P,exact:!0,name:"Users Page"},{path:"/users/food-detail/:id",component:F,layout:P,exact:!0,name:"Detail Food Page",isHeader:!0},{path:"*",component:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"Page not found"})})},layout:k,name:"Page Not Found"}];return Object(b.jsx)(a.Suspense,{fallback:"/login"!==e.pathname&&Object(b.jsx)("div",{className:"loading",children:Object(b.jsx)(g.a,{loading:!0,css:t,color:"#001529"})}),children:Object(b.jsx)(O.c,{children:n.map((function(e,t){return Object(b.jsx)(y,{name:e.name,layout:e.layout,component:e.component,exact:e.exact,path:e.path,isHeader:(null===e||void 0===e?void 0:e.isHeader)||!1},t)}))})})},C=n(21),M=n(102),N=n(7),B=n.n(N),R=n(14),U=n(24),G=n(84),D=n(60),A=B.a.mark(J),Y=B.a.mark(K),_=B.a.mark(Q),q=B.a.mark(V);function J(e){var t;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Login"),console.log(e.params),n.next=4,Object(R.b)(G.a.login,e.params);case 4:if(t=n.sent,console.log("\ud83d\ude80 ~ file: auth.js ~ line 9 ~ function*handleLogin ~ res",t),!t.status){n.next=13;break}return console.log("was accessed"),n.next=10,Object(R.d)({type:U.a.loginSuccess().type,payload:t.data});case 10:e.callback(t),n.next=17;break;case 13:return console.log("wasn't accessed"),n.next=16,Object(R.d)({type:U.a.loginFail().type});case 16:throw new Error("");case 17:case"end":return n.stop()}}),A)}function K(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Logout"),e.next=3,Object(R.d)({type:U.a.logoutSuccess().type});case 3:case"end":return e.stop()}}),Y)}function Q(){var e,t;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("saga-auth");case 1:0,e=!1;case 3:if(e){n.next=18;break}return n.next=6,Object(R.e)(D.a.ACTION_TYPE.LOGIN);case 6:return t=n.sent,n.prev=7,n.next=10,Object(R.b)(J,t.payload);case 10:e=!0,n.next=16;break;case 13:n.prev=13,n.t0=n.catch(7),e=!1;case 16:n.next=3;break;case 18:return n.next=20,Object(R.e)(D.a.ACTION_TYPE.LOGOUT);case 20:return n.next=22,Object(R.b)(K);case 22:n.next=1;break;case 24:case"end":return n.stop()}}),_,null,[[7,13]])}function V(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.c)(Q);case 2:case"end":return e.stop()}}),q)}var W=B.a.mark(X);function X(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)([V()]);case 2:case"end":return e.stop()}}),W)}var Z=n(25),$=n(37),ee=n(93),te=Object(M.a)(),ne=Object(C.a)({reducer:{user:U.b,dashboard:Z.a,management:$.a,current:ee.b},middleware:function(e){return e().concat(te)}});te.run(X);var ae=ne,ce=n(30),re=(n(107),n(169),n(98)),oe=Object(re.a)(),ie=n(99),se=n(100),ue=n(103),le=n(101);c.a.Component,n(170),n(171);function de(){var e=Object(O.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var fe=function(e){return Object(b.jsx)(i.a,{store:ae,children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(ce.a,{history:oe,children:[Object(b.jsx)(de,{}),Object(b.jsx)(j,{children:Object(b.jsx)(I,{})})]})})})},be=function(e){e&&e instanceof Function&&n.e(27).then(n.bind(null,728)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(fe,{})}),document.getElementById("root")),be()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(21),c=Object(a.b)({name:"user",initialState:{profile:{}},reducers:{loginSuccess:function(e,t){console.log("\ud83d\ude80 ~ file: user.js ~ line 12 ~ loginSuccess ~ action",t.payload),e.profile=t.payload},loginFail:function(e,t){e.profile={}},logoutSuccess:function(e,t){e.profile={}},getProfile:function(e,t){e.profile=t.payload}}}),r=c.actions;t.b=c.reducer},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(15),c=n(21),r=Object(c.b)({name:"dashboard",initialState:{isRedirectDetail:!1,table:{},data:[],staffs:[],listTable:[],listMenu:{}},reducers:{setIsDetail:function(e,t){e.isRedirectDetail=t.payload},table:function(e,t){var n=t.payload;if(n){var a=e.data.filter((function(e){return e.id===n.id}));return a.length>0?void(e.table=a[0]):void(e.table=n)}e.table={}},payBill:function(e,t){var n=e.data,a=t.payload,c=n.findIndex((function(e){return e.id===a}));n.splice(c,1)},addTable:function(e,t){e.data=t.payload},addMenuOfTable:function(e,t){var n=t.payload,c=n.id,r=n.food;e.data=e.data.map((function(e){return e.id===c?Object(a.a)(Object(a.a)({},e),{},{menu:r}):e}))},removeMenuOfTable:function(e,t){var n=t.payload,c=n.id,r=n.food;e.data=e.data.map((function(e){return e.id===c?Object(a.a)(Object(a.a)({},e),{},{menu:e.menu.filter((function(e){return e.id!==r.id}))}):e}))},staffs:function(e,t){e.staffs=t.payload},listTable:function(e,t){e.listTable=t.payload},listMenu:function(e,t){e.listMenu=t.payload}}}),o=r.actions;t.a=r.reducer},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(21),c=Object(a.b)({name:"management",initialState:{managementStaff:[],managementBestSeller:[]},reducers:{managementStaff:function(e,t){e.managementStaff=t.payload},foodBestSeller:function(e,t){e.managementBestSeller=t.payload}}}),r=c.actions;t.a=c.reducer},58:function(e,t,n){"use strict";var a=n(97),c=n.n(a);t.a=function(e){return c.a.create({baseURL:"https://mocsproduct.herokuapp.com",headers:{"Content-type":"application/json","cache-control":"no-cache"}})}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ACTION_TYPE:{LOGIN:"USER/LOGIN",LOGOUT:"USER/LOGOUT"}}},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(16),c=n.n(a),r=(n(0),n(26)),o=n(94),i=n(25),s=n(37),u=n(5),l=Object(o.io)("https://mocsproduct.herokuapp.com",{transports:["websocket"]}),d=function(e){var t=e.children,n=Object(r.b)();return l.on("data-table",(function(e){n(i.b.addTable(e))})),l.on("data-staff",(function(e){n(i.b.staffs(e))})),l.on("data-management",(function(e){console.log(e),n(s.b.managementStaff(e))})),l.on("data-menu",(function(e){console.log(e),n(i.b.listMenu(e))})),l.on("data-default-table",(function(e){console.log(e),n(i.b.listTable(e))})),l.on("data-best-seller",(function(e){console.log(e),n(s.b.foodBestSeller(e))})),Object(u.jsx)(u.Fragment,{children:t})};d.propTypes={children:c.a.element.isRequired},t.a=d},84:function(e,t,n){"use strict";var a=n(7),c=n.n(a),r=n(50),o=n(58),i=Object(o.a)(),s={login:function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,i.post("/login",t);case 4:if(r=e.sent,!(null===(a=r.data)||void 0===a?void 0:a.status)){e.next=9;break}n={status:!0,data:r.data.data,message:"Login successful"},e.next=10;break;case 9:throw new Error("Login is invalid");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n={status:!1,message:e.t0.message};case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),getStaff:function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(o.a)(),e.next=4,a.get("/staff/".concat(t));case 4:return r=e.sent,e.next=7,r.data;case 7:n=e.sent,console.log(n),n.status&&(n={status:!0,data:n.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),n={status:!1,message:"Profile not found"};case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()};t.a=s},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(21),c=Object(a.b)({name:"current",initialState:{titleHeader:""},reducers:{setTitleHeader:function(e,t){e.titleHeader=t.payload}}}),r=c.actions;t.b=c.reducer}},[[172,8,11]]]);
//# sourceMappingURL=main.5689aed4.chunk.js.map