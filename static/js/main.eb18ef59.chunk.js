(this.webpackJsonpmocs=this.webpackJsonpmocs||[]).push([[7],{113:function(e,t,n){},118:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(41),r=n.n(c),i=(n(118),n(26)),s=n(71),u=n(73),l=n(53),d=n(17),f=n.n(d),b=n(5),p=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:t})};p.propTypes={children:f.a.element.isRequired};var m=p,j=n(6),h=n(103),O=n.n(h),g=n(9),y=n(109),v=function(e){var t=e.layout,n=e.component,o=(e.path,e.isHeader),c=e.name,r=e.hasIconHeaderRight,s=Object(y.a)(e,["layout","component","path","isHeader","name","hasIconHeaderRight"]),u=Object(j.f)(),l=Object(i.c)((function(e){return e.user.profile}));return Object(a.useEffect)((function(){0===Object.keys(l).length&&u.push("/login")}),[l]),Object(b.jsx)(j.a,Object(g.a)(Object(g.a)({},s),{},{render:function(e){return Object(b.jsx)(t,Object(g.a)(Object(g.a)({isHeader:o,titleHeader:c,hasIconHeaderRight:r},e),{},{children:Object(b.jsx)(n,Object(g.a)({},e))}))}}))};v.defaultProps={hasIconHeaderRight:!1,isHeader:!1};var x,P=v,F=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(6),n.e(22),n.e(26)]).then(n.bind(null,817))})),S=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(5),n.e(17),n.e(29)]).then(n.bind(null,818))})),w=Object(a.lazy)((function(){return n.e(27).then(n.bind(null,799))})),T=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(6),n.e(20)]).then(n.bind(null,800))})),k=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,811))})),H=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,808))})),I=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,814))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(21)]).then(n.bind(null,815))})),C=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(3),n.e(4),n.e(19),n.e(24)]).then(n.bind(null,801))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(16)]).then(n.bind(null,812))})),M=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(5),n.e(18)]).then(n.bind(null,809))})),R=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(4),n.e(5),n.e(23),n.e(25)]).then(n.bind(null,802))})),z=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(15)]).then(n.bind(null,810))})),B=function(){var e=Object(j.g)(),t=Object(l.css)(x||(x=Object(u.a)(["\n        border-color: #001529;\n    "]))),n=[{path:"/mocs-client",component:k,layout:F,exact:!0,name:"Home Page"},{path:"/login",component:T,layout:w,exact:!0,name:"Login Page"},{path:"/admin/management-business",component:H,layout:F,exact:!0,name:"Admin Page"},{path:"/admin/management-staff",component:I,layout:F,exact:!0,name:"Management Staff Page"},{path:"/profile/:id",component:L,layout:F,exact:!0,name:"Profile Page"},{path:"/users",component:C,layout:S,exact:!0,name:"Users Page"},{path:"/users/food-detail/:id",component:E,layout:S,exact:!0,name:"Detail Food",isHeader:!0},{path:"/users/order",component:M,layout:S,exact:!0,name:"Your Order",isHeader:!0},{path:"/users/bill",component:R,layout:S,exact:!0,name:"Your Bill",isHeader:!0},{path:"/users/profile",component:z,layout:S,exact:!0,name:"Profile",isHeader:!0,hasIconHeaderRight:!0},{path:"*",component:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"Page not found"})})},layout:w,name:"Page Not Found"}];return Object(b.jsx)(a.Suspense,{fallback:"/login"!==e.pathname&&Object(b.jsx)("div",{className:"loading",children:Object(b.jsx)(O.a,{loading:!0,css:t,color:"#001529"})}),children:Object(b.jsx)(j.c,{children:n.map((function(e,t){return Object(b.jsx)(P,{name:e.name,layout:e.layout,component:e.component,exact:e.exact,path:e.path,isHeader:(null===e||void 0===e?void 0:e.isHeader)||!1,hasIconHeaderRight:e.hasIconHeaderRight},t)}))})})},N=n(12),U=n(107),G=n(7),D=n.n(G),Y=n(16),A=n(22),_=n(89),q=n(55),J=D.a.mark(W),K=D.a.mark(X),Q=D.a.mark(Z),V=D.a.mark($);function W(e){var t;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Login"),n.next=3,Object(Y.b)(_.a.login,e.params);case 3:if(!(t=n.sent).status){n.next=11;break}return console.log("was accessed"),n.next=8,Object(Y.d)({type:A.a.loginSuccess().type,payload:t.data});case 8:e.callback(t),n.next=15;break;case 11:return console.log("wasn't accessed"),n.next=14,Object(Y.d)({type:A.a.loginFail().type});case 14:throw new Error("");case 15:case"end":return n.stop()}}),J)}function X(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Logout"),e.next=3,Object(Y.d)({type:A.a.logoutSuccess().type});case 3:case"end":return e.stop()}}),K)}function Z(){var e,t;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("saga-auth");case 1:0,e=!1;case 3:if(e){n.next=18;break}return n.next=6,Object(Y.e)(q.a.ACTION_TYPE.LOGIN);case 6:return t=n.sent,n.prev=7,n.next=10,Object(Y.b)(W,t.payload);case 10:e=!0,n.next=16;break;case 13:n.prev=13,n.t0=n.catch(7),e=!1;case 16:n.next=3;break;case 18:return n.next=20,Object(Y.e)(q.a.ACTION_TYPE.LOGOUT);case 20:return n.next=22,Object(Y.b)(X);case 22:n.next=1;break;case 24:case"end":return n.stop()}}),Q,null,[[7,13]])}function $(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.c)(Z);case 2:case"end":return e.stop()}}),V)}var ee=D.a.mark(te);function te(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)([$()]);case 2:case"end":return e.stop()}}),ee)}var ne=n(25),ae=n(38),oe=n(74),ce=n(39),re=n(30),ie=Object(U.a)(),se=Object(N.a)({reducer:{user:A.b,dashboard:ne.a,management:ae.a,current:oe.b,cart:ce.b,home:re.a},middleware:function(e){return e().concat(ie)}});ie.run(te);var ue=se,le=n(31),de=(n(113),n(175),n(105)),fe=Object(de.a)(),be=n(98),pe=n(99),me=n(108),je=n(106);o.a.Component,n(176),n(177);function he(){var e=Object(j.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var Oe=function(e){return Object(b.jsx)(i.a,{store:ue,children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(le.a,{history:fe,children:[Object(b.jsx)(he,{}),Object(b.jsx)(m,{children:Object(b.jsx)(B,{})})]})})})},ge=function(e){e&&e instanceof Function&&n.e(31).then(n.bind(null,803)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(Oe,{})}),document.getElementById("root")),ge()},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),o=Object(a.b)({name:"user",initialState:{profile:{}},reducers:{loginSuccess:function(e,t){e.profile=t.payload},loginFail:function(e,t){e.profile={}},logoutSuccess:function(e,t){e.profile={}},getProfile:function(e,t){e.profile=t.payload}}}),c=o.actions;t.b=o.reducer},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(9),o=n(12),c=Object(o.b)({name:"dashboard",initialState:{isRedirectDetail:!1,table:{},data:[],staffs:[],listTable:[],listMenu:{}},reducers:{setIsDetail:function(e,t){e.isRedirectDetail=t.payload},table:function(e,t){var n=t.payload;if(n){var a=e.data.filter((function(e){return e.id===n.id}));return a.length>0?void(e.table=a[0]):void(e.table=n)}e.table={}},payBill:function(e,t){var n=e.data,a=t.payload,o=n.findIndex((function(e){return e.id===a}));n.splice(o,1)},addTable:function(e,t){e.data=t.payload},addMenuOfTable:function(e,t){var n=t.payload,o=n.id,c=n.food;e.data=e.data.map((function(e){return e.id===o?Object(a.a)(Object(a.a)({},e),{},{menu:c}):e}))},removeMenuOfTable:function(e,t){var n=t.payload,o=n.id,c=n.food;e.data=e.data.map((function(e){return e.id===o?Object(a.a)(Object(a.a)({},e),{},{menu:e.menu.filter((function(e){return e.id!==c.id}))}):e}))},staffs:function(e,t){e.staffs=t.payload},listTable:function(e,t){e.listTable=t.payload},listMenu:function(e,t){e.listMenu=t.payload}}}),r=c.actions;t.a=c.reducer},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(12),o=Object(a.b)({name:"home",initialState:{listMenu:[],categoryMenu:[],listEvent:[]},reducers:{getListMenu:function(e,t){e.listMenu=t.payload},getCategory:function(e,t){e.categoryMenu=t.payload},getEvent:function(e,t){e.listEvent=t.payload}}}),c=o.actions;t.a=o.reducer},38:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(12),o=Object(a.b)({name:"management",initialState:{managementStaff:[],managementBestSeller:[]},reducers:{managementStaff:function(e,t){e.managementStaff=t.payload},foodBestSeller:function(e,t){e.managementBestSeller=t.payload}}}),c=o.actions;t.a=o.reducer},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(70),o=n(9),c=n(12),r=Object(c.b)({name:"cart",initialState:{listFood:{},bill:{}},reducers:{addToCart:function(e,t){e.listFood=Object(o.a)(Object(o.a)({},e.listFood),{},{listFood:[].concat(Object(a.a)(e.listFood.listFood),[t.payload]),totalPrice:e.listFood.totalPrice+t.payload.price,totalItem:e.listFood.totalItem+t.payload.count})},removeFoodFromCart:function(e,t){e.listFood=e.listFood.filter((function(e){return e.id!==t.payload}))},setCountFood:function(e,t){e.listFood.listFood=e.listFood.listFood.map((function(e){return e.id===t.payload.id?Object(o.a)(Object(o.a)({},e),{},{count:t.payload.count,price:t.payload.price}):e}))},getBill:function(e,t){e.bill=t.payload},getTableClient:function(e,t){e.listFood=t.payload}}}),i=r.actions;t.b=r.reducer},54:function(e,t,n){"use strict";var a=n(104),o=n.n(a);t.a=function(e){return o.a.create({baseURL:"https://mocsproduct.herokuapp.com",headers:{"Content-type":"application/json","cache-control":"no-cache"}})}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ACTION_TYPE:{LOGIN:"USER/LOGIN",LOGOUT:"USER/LOGOUT"}}},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var a=n(17),o=n.n(a),c=(n(0),n(26)),r=n(100),i=n(25),s=n(38),u=n(30),l=n(39),d=n(22),f=n(5),b=Object(r.io)("https://mocsproduct.herokuapp.com",{transports:["websocket"]}),p=function(e){var t=e.children,n=Object(c.b)();return b.on("info-user",(function(e){e&&n(d.a.loginSuccess(e))})),b.on("data-manage-tables",(function(e){n(i.b.addTable(e))})),b.on("the-list-table",(function(e){console.log(e),n(i.b.listTable(e))})),b.on("the-list-menu",(function(e){console.log(e),n(i.b.listMenu(e))})),b.on("data-staff",(function(e){n(i.b.staffs(e))})),b.on("data-management",(function(e){console.log(e),n(s.b.managementStaff(e))})),b.on("data-business",(function(e){console.log(e),n(s.b.foodBestSeller(e))})),b.on("client-information",(function(e){n(d.a.loginSuccess(e))})),b.on("event-for-client",(function(e){n(u.b.getEvent(e))})),b.on("table-client",(function(e){n(l.a.getTableClient(e))})),b.on("category-home-client",(function(e){n(u.b.getCategory(e))})),b.on("the-list-menu",(function(e){n(u.b.getListMenu(e))})),b.on("bill-client",(function(e){n(l.a.getBill(e))})),Object(f.jsx)(f.Fragment,{children:t})};p.propTypes={children:o.a.element.isRequired},t.a=p},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),o=Object(a.b)({name:"current",initialState:{titleHeader:""},reducers:{setTitleHeader:function(e,t){e.titleHeader=t.payload}}}),c=o.actions;t.b=o.reducer},89:function(e,t,n){"use strict";var a=n(7),o=n.n(a),c=n(52),r=n(54),i=Object(r.a)(),s={login:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,i.post("/login",t);case 4:if(c=e.sent,!(null===(a=c.data)||void 0===a?void 0:a.status)){e.next=9;break}n={status:!0,data:c.data.data,message:"Login successful"},e.next=10;break;case 9:throw new Error("Login is invalid");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n={status:!1,message:e.t0.message};case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),getStaff:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(r.a)(),e.next=4,a.get("/staff/".concat(t));case 4:return c=e.sent,e.next=7,c.data;case 7:n=e.sent,console.log(n),n.status&&(n={status:!0,data:n.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),n={status:!1,message:"Profile not found"};case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()};t.a=s}},[[178,8,14]]]);
//# sourceMappingURL=main.eb18ef59.chunk.js.map