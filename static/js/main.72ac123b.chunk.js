(this.webpackJsonpmocs=this.webpackJsonpmocs||[]).push([[7],{107:function(e,t,n){},112:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),o=n.n(c),i=(n(112),n(26)),s=n(67),u=n(82),l=n(49),d=n(16),f=n.n(d),b=n(5),p=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:t})};p.propTypes={children:f.a.element.isRequired};var m,j=p,O=n(6),h=n(96),g=n.n(h),x=n(15),y=n(68),v=function(e){var t=e.layout,n=e.component,r=(e.path,e.isHeader),c=e.name,o=Object(y.a)(e,["layout","component","path","isHeader","name"]),s=Object(O.f)(),u=Object(i.c)((function(e){return e.user.profile}));return Object(a.useEffect)((function(){0===Object.keys(u).length&&s.push("/login")}),[u]),Object(b.jsx)(O.a,Object(x.a)(Object(x.a)({},o),{},{render:function(e){return Object(b.jsx)(t,Object(x.a)(Object(x.a)({isHeader:r,titleHeader:c},e),{},{children:Object(b.jsx)(n,Object(x.a)({},e))}))}}))},w=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(17),n.e(23)]).then(n.bind(null,753))})),P=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(5),n.e(15),n.e(28)]).then(n.bind(null,754))})),k=Object(a.lazy)((function(){return n.e(25).then(n.bind(null,734))})),S=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(18)]).then(n.bind(null,735))})),T=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,744))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,743))})),H=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,749))})),z=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(16),n.e(21)]).then(n.bind(null,736))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(6),n.e(22)]).then(n.bind(null,746))})),F=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(5),n.e(6),n.e(20)]).then(n.bind(null,748))})),I=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(5),n.e(19),n.e(24)]).then(n.bind(null,737))})),C=function(){var e=Object(O.g)(),t=Object(l.css)(m||(m=Object(u.a)(["\n        border-color: #001529;\n    "]))),n=[{path:"/mocs-client",component:T,layout:w,exact:!0,name:"Home Page"},{path:"/login",component:S,layout:k,exact:!0,name:"Login Page"},{path:"/admin/management-business",component:L,layout:w,exact:!0,name:"Admin Page"},{path:"/admin/management-staff",component:H,layout:w,exact:!0,name:"Management Staff Page"},{path:"/profile/:id",component:z,layout:w,exact:!0,name:"Profile Page"},{path:"/users/:id",component:E,layout:P,exact:!0,name:"Users Page"},{path:"/users/food-detail/:id",component:F,layout:P,exact:!0,name:"Detail Food",isHeader:!0},{path:"/users/order/:id",component:I,layout:P,exact:!0,name:"Your Order",isHeader:!0},{path:"*",component:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"Page not found"})})},layout:k,name:"Page Not Found"}];return Object(b.jsx)(a.Suspense,{fallback:"/login"!==e.pathname&&Object(b.jsx)("div",{className:"loading",children:Object(b.jsx)(g.a,{loading:!0,css:t,color:"#001529"})}),children:Object(b.jsx)(O.c,{children:n.map((function(e,t){return Object(b.jsx)(v,{name:e.name,layout:e.layout,component:e.component,exact:e.exact,path:e.path,isHeader:(null===e||void 0===e?void 0:e.isHeader)||!1},t)}))})})},M=n(21),N=n(102),B=n(7),R=n.n(B),U=n(14),G=n(24),D=n(84),A=n(60),Y=R.a.mark(K),_=R.a.mark(Q),q=R.a.mark(V),J=R.a.mark(W);function K(e){var t;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Login"),console.log(e.params),n.next=4,Object(U.b)(D.a.login,e.params);case 4:if(t=n.sent,console.log("\ud83d\ude80 ~ file: auth.js ~ line 9 ~ function*handleLogin ~ res",t),!t.status){n.next=13;break}return console.log("was accessed"),n.next=10,Object(U.d)({type:G.a.loginSuccess().type,payload:t.data});case 10:e.callback(t),n.next=17;break;case 13:return console.log("wasn't accessed"),n.next=16,Object(U.d)({type:G.a.loginFail().type});case 16:throw new Error("");case 17:case"end":return n.stop()}}),Y)}function Q(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Logout"),e.next=3,Object(U.d)({type:G.a.logoutSuccess().type});case 3:case"end":return e.stop()}}),_)}function V(){var e,t;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("saga-auth");case 1:0,e=!1;case 3:if(e){n.next=18;break}return n.next=6,Object(U.e)(A.a.ACTION_TYPE.LOGIN);case 6:return t=n.sent,n.prev=7,n.next=10,Object(U.b)(K,t.payload);case 10:e=!0,n.next=16;break;case 13:n.prev=13,n.t0=n.catch(7),e=!1;case 16:n.next=3;break;case 18:return n.next=20,Object(U.e)(A.a.ACTION_TYPE.LOGOUT);case 20:return n.next=22,Object(U.b)(Q);case 22:n.next=1;break;case 24:case"end":return n.stop()}}),q,null,[[7,13]])}function W(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.c)(V);case 2:case"end":return e.stop()}}),J)}var X=R.a.mark(Z);function Z(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)([W()]);case 2:case"end":return e.stop()}}),X)}var $=n(25),ee=n(37),te=n(93),ne=Object(N.a)(),ae=Object(M.a)({reducer:{user:G.b,dashboard:$.a,management:ee.a,current:te.b},middleware:function(e){return e().concat(ne)}});ne.run(Z);var re=ae,ce=n(30),oe=(n(107),n(169),n(98)),ie=Object(oe.a)(),se=n(99),ue=n(100),le=n(103),de=n(101);r.a.Component,n(170),n(171);function fe(){var e=Object(O.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var be=function(e){return Object(b.jsx)(i.a,{store:re,children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(ce.a,{history:ie,children:[Object(b.jsx)(fe,{}),Object(b.jsx)(j,{children:Object(b.jsx)(C,{})})]})})})},pe=function(e){e&&e instanceof Function&&n.e(29).then(n.bind(null,738)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(be,{})}),document.getElementById("root")),pe()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(21),r=Object(a.b)({name:"user",initialState:{profile:{}},reducers:{loginSuccess:function(e,t){console.log("\ud83d\ude80 ~ file: user.js ~ line 12 ~ loginSuccess ~ action",t.payload),e.profile=t.payload},loginFail:function(e,t){e.profile={}},logoutSuccess:function(e,t){e.profile={}},getProfile:function(e,t){e.profile=t.payload}}}),c=r.actions;t.b=r.reducer},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(15),r=n(21),c=Object(r.b)({name:"dashboard",initialState:{isRedirectDetail:!1,table:{},data:[],staffs:[],listTable:[],listMenu:{}},reducers:{setIsDetail:function(e,t){e.isRedirectDetail=t.payload},table:function(e,t){var n=t.payload;if(n){var a=e.data.filter((function(e){return e.id===n.id}));return a.length>0?void(e.table=a[0]):void(e.table=n)}e.table={}},payBill:function(e,t){var n=e.data,a=t.payload,r=n.findIndex((function(e){return e.id===a}));n.splice(r,1)},addTable:function(e,t){e.data=t.payload},addMenuOfTable:function(e,t){var n=t.payload,r=n.id,c=n.food;e.data=e.data.map((function(e){return e.id===r?Object(a.a)(Object(a.a)({},e),{},{menu:c}):e}))},removeMenuOfTable:function(e,t){var n=t.payload,r=n.id,c=n.food;e.data=e.data.map((function(e){return e.id===r?Object(a.a)(Object(a.a)({},e),{},{menu:e.menu.filter((function(e){return e.id!==c.id}))}):e}))},staffs:function(e,t){e.staffs=t.payload},listTable:function(e,t){e.listTable=t.payload},listMenu:function(e,t){e.listMenu=t.payload}}}),o=c.actions;t.a=c.reducer},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(21),r=Object(a.b)({name:"management",initialState:{managementStaff:[],managementBestSeller:[]},reducers:{managementStaff:function(e,t){e.managementStaff=t.payload},foodBestSeller:function(e,t){e.managementBestSeller=t.payload}}}),c=r.actions;t.a=r.reducer},58:function(e,t,n){"use strict";var a=n(97),r=n.n(a);t.a=function(e){return r.a.create({baseURL:"https://mocsproduct.herokuapp.com",headers:{"Content-type":"application/json","cache-control":"no-cache"}})}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ACTION_TYPE:{LOGIN:"USER/LOGIN",LOGOUT:"USER/LOGOUT"}}},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(16),r=n.n(a),c=(n(0),n(26)),o=n(94),i=n(25),s=n(37),u=n(5),l=Object(o.io)("https://mocsproduct.herokuapp.com",{transports:["websocket"]}),d=function(e){var t=e.children,n=Object(c.b)();return l.on("data-table",(function(e){n(i.b.addTable(e))})),l.on("data-staff",(function(e){n(i.b.staffs(e))})),l.on("data-management",(function(e){console.log(e),n(s.b.managementStaff(e))})),l.on("data-menu",(function(e){console.log(e),n(i.b.listMenu(e))})),l.on("data-default-table",(function(e){console.log(e),n(i.b.listTable(e))})),l.on("data-best-seller",(function(e){console.log(e),n(s.b.foodBestSeller(e))})),Object(u.jsx)(u.Fragment,{children:t})};d.propTypes={children:r.a.element.isRequired},t.a=d},84:function(e,t,n){"use strict";var a=n(7),r=n.n(a),c=n(50),o=n(58),i=Object(o.a)(),s={login:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,i.post("/login",t);case 4:if(c=e.sent,!(null===(a=c.data)||void 0===a?void 0:a.status)){e.next=9;break}n={status:!0,data:c.data.data,message:"Login successful"},e.next=10;break;case 9:throw new Error("Login is invalid");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n={status:!1,message:e.t0.message};case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),getStaff:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(o.a)(),e.next=4,a.get("/staff/".concat(t));case 4:return c=e.sent,e.next=7,c.data;case 7:n=e.sent,console.log(n),n.status&&(n={status:!0,data:n.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),n={status:!1,message:"Profile not found"};case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()};t.a=s},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(21),r=Object(a.b)({name:"current",initialState:{titleHeader:""},reducers:{setTitleHeader:function(e,t){e.titleHeader=t.payload}}}),c=r.actions;t.b=r.reducer}},[[172,8,11]]]);
//# sourceMappingURL=main.72ac123b.chunk.js.map