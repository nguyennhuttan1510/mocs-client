(this.webpackJsonpmocs=this.webpackJsonpmocs||[]).push([[4],{102:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(33),o=n.n(r),s=(n(102),n(24)),i=n(58),u=n(86),l=n(54),f=n(19),d=n.n(f),b=n(5),p=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:t})};p.propTypes={children:d.a.element.isRequired};var m,j=p,O=n(6),g=n(88),h=n.n(g),x=n(14),v=n(59),y=function(e){var t=e.layout,n=e.component,c=(e.path,Object(v.a)(e,["layout","component","path"])),r=Object(O.f)(),o=Object(s.c)((function(e){return e.user.profile}));return Object(a.useEffect)((function(){0===Object.keys(o).length&&r.push("/login")}),[o]),Object(b.jsx)(O.a,Object(x.a)(Object(x.a)({},c),{},{render:function(e){return Object(b.jsx)(t,Object(x.a)(Object(x.a)({},e),{},{children:Object(b.jsx)(n,Object(x.a)({},e))}))}}))},k=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(12),n.e(15)]).then(n.bind(null,631))})),w=Object(a.lazy)((function(){return n.e(17).then(n.bind(null,620))})),S=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(16)]).then(n.bind(null,621))})),T=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,628))})),P=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(10)]).then(n.bind(null,627))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,629))})),I=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,630))})),E=function(){var e=Object(O.g)(),t=Object(l.css)(m||(m=Object(u.a)(["\n        border-color: #001529;\n    "]))),n=[{path:"/mocs-client",component:T,layout:k,exact:!0,name:"Home Page"},{path:"/login",component:S,layout:w,exact:!0,name:"Login Page"},{path:"/admin/management-business",component:P,layout:k,exact:!0,name:"Admin Page"},{path:"/admin/management-staff",component:L,layout:k,exact:!0,name:"Management Staff Page"},{path:"/profile/:id",component:I,layout:k,exact:!0,name:"Profile Page"}];return Object(b.jsx)(a.Suspense,{fallback:"/login"!==e.pathname&&Object(b.jsx)("div",{className:"loading",children:Object(b.jsx)(h.a,{loading:!0,css:t,color:"#001529"})}),children:Object(b.jsx)(O.c,{children:n.map((function(e,t){return Object(b.jsx)(y,{name:e.name,layout:e.layout,component:e.component,exact:e.exact,path:e.path},t)}))})})},C=n(20),F=n(94),M=n(7),z=n.n(M),B=n(13),N=n(22),R=n(75),G=n(53),U=z.a.mark(Y),A=z.a.mark(_),D=z.a.mark(q),H=z.a.mark(J);function Y(e){var t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Login"),console.log(e.params),n.next=4,Object(B.b)(R.a.login,e.params);case 4:if(t=n.sent,console.log("\ud83d\ude80 ~ file: auth.js ~ line 9 ~ function*handleLogin ~ res",t),!t.status){n.next=13;break}return console.log("was accessed"),n.next=10,Object(B.d)({type:N.a.loginSuccess().type,payload:t.data});case 10:e.callback(t),n.next=17;break;case 13:return console.log("wasn't accessed"),n.next=16,Object(B.d)({type:N.a.loginFail().type});case 16:throw new Error("");case 17:case"end":return n.stop()}}),U)}function _(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Logout"),e.next=3,Object(B.d)({type:N.a.logoutSuccess().type});case 3:case"end":return e.stop()}}),A)}function q(){var e,t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("saga-auth");case 1:0,e=!1;case 3:if(e){n.next=18;break}return n.next=6,Object(B.e)(G.a.ACTION_TYPE.LOGIN);case 6:return t=n.sent,n.prev=7,n.next=10,Object(B.b)(Y,t.payload);case 10:e=!0,n.next=16;break;case 13:n.prev=13,n.t0=n.catch(7),e=!1;case 16:n.next=3;break;case 18:return n.next=20,Object(B.e)(G.a.ACTION_TYPE.LOGOUT);case 20:return n.next=22,Object(B.b)(_);case 22:n.next=1;break;case 24:case"end":return n.stop()}}),D,null,[[7,13]])}function J(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.c)(q);case 2:case"end":return e.stop()}}),H)}var K=z.a.mark(Q);function Q(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)([J()]);case 2:case"end":return e.stop()}}),K)}var V=n(23),W=n(32),X=n(84),Z=Object(F.a)(),$=Object(C.a)({reducer:{user:N.b,dashboard:V.a,management:W.a,current:X.b},middleware:function(e){return e().concat(Z)}});Z.run(Q);var ee=$,te=n(35),ne=(n(160),n(161),n(90)),ae=Object(ne.a)(),ce=n(91),re=n(92),oe=n(95),se=n(93),ie=(c.a.Component,function(e){return Object(b.jsx)(s.a,{store:ee,children:Object(b.jsx)(i.a,{children:Object(b.jsx)(te.a,{history:ae,children:Object(b.jsx)(j,{children:Object(b.jsx)(E,{})})})})})}),ue=function(e){e&&e instanceof Function&&n.e(20).then(n.bind(null,622)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ie,{})}),document.getElementById("root")),ue()},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(20),c=Object(a.b)({name:"user",initialState:{profile:{}},reducers:{loginSuccess:function(e,t){console.log("\ud83d\ude80 ~ file: user.js ~ line 12 ~ loginSuccess ~ action",t.payload),e.profile=t.payload},loginFail:function(e,t){e.profile={}},logoutSuccess:function(e,t){e.profile={}},getProfile:function(e,t){e.profile=t.payload}}}),r=c.actions;t.b=c.reducer},23:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(14),c=n(20),r=Object(c.b)({name:"dashboard",initialState:{isRedirectDetail:!1,table:{},data:[],staffs:[],listTable:[],listMenu:{}},reducers:{setIsDetail:function(e,t){e.isRedirectDetail=t.payload},table:function(e,t){var n=t.payload;if(n){var a=e.data.filter((function(e){return e.id===n.id}));return a.length>0?void(e.table=a[0]):void(e.table=n)}e.table={}},payBill:function(e,t){var n=e.data,a=t.payload,c=n.findIndex((function(e){return e.id===a}));n.splice(c,1)},addTable:function(e,t){e.data=t.payload},addMenuOfTable:function(e,t){var n=t.payload,c=n.id,r=n.food;e.data=e.data.map((function(e){return e.id===c?Object(a.a)(Object(a.a)({},e),{},{menu:r}):e}))},removeMenuOfTable:function(e,t){var n=t.payload,c=n.id,r=n.food;e.data=e.data.map((function(e){return e.id===c?Object(a.a)(Object(a.a)({},e),{},{menu:e.menu.filter((function(e){return e.id!==r.id}))}):e}))},staffs:function(e,t){e.staffs=t.payload},listTable:function(e,t){e.listTable=t.payload},listMenu:function(e,t){e.listMenu=t.payload}}}),o=r.actions;t.a=r.reducer},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(20),c=Object(a.b)({name:"management",initialState:{managementStaff:[],managementBestSeller:[]},reducers:{managementStaff:function(e,t){e.managementStaff=t.payload},foodBestSeller:function(e,t){e.managementBestSeller=t.payload}}}),r=c.actions;t.a=c.reducer},51:function(e,t,n){"use strict";var a=n(89),c=n.n(a);t.a=function(e){return c.a.create({baseURL:"https://mocsproduct.herokuapp.com",headers:{"Content-type":"application/json","cache-control":"no-cache"}})}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={ACTION_TYPE:{LOGIN:"USER/LOGIN",LOGOUT:"USER/LOGOUT"}}},58:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(19),c=n.n(a),r=(n(0),n(24)),o=n(85),s=n(23),i=n(32),u=n(5),l=Object(o.io)("https://mocsproduct.herokuapp.com",{transports:["websocket"]}),f=function(e){var t=e.children,n=Object(r.b)();return l.on("data-table",(function(e){n(s.b.addTable(e))})),l.on("data-staff",(function(e){n(s.b.staffs(e))})),l.on("data-management",(function(e){console.log(e),n(i.b.managementStaff(e))})),l.on("data-menu",(function(e){console.log(e),n(s.b.listMenu(e))})),l.on("data-default-table",(function(e){console.log(e),n(s.b.listTable(e))})),l.on("data-best-seller",(function(e){console.log(e),n(i.b.foodBestSeller(e))})),Object(u.jsx)(u.Fragment,{children:t})};f.propTypes={children:c.a.element.isRequired},t.a=f},75:function(e,t,n){"use strict";var a=n(7),c=n.n(a),r=n(44),o=n(51),s=Object(o.a)(),i={login:function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,s.post("/login",t);case 4:if(r=e.sent,!(null===(a=r.data)||void 0===a?void 0:a.status)){e.next=9;break}n={status:!0,data:r.data.data,message:"Login successful"},e.next=10;break;case 9:throw new Error("Login is invalid");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n={status:!1,message:e.t0.message};case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),getStaff:function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(o.a)(),e.next=4,a.get("/staff/".concat(t));case 4:return r=e.sent,e.next=7,r.data;case 7:n=e.sent,console.log(n),n.status&&(n={status:!0,data:n.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),n={status:!1,message:"Profile not found"};case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()};t.a=i},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(20),c=Object(a.b)({name:"current",initialState:{titleHeader:""},reducers:{setTitleHeader:function(e,t){e.titleHeader=t.payload}}}),r=c.actions;t.b=c.reducer}},[[162,5,8]]]);
//# sourceMappingURL=main.163871ea.chunk.js.map